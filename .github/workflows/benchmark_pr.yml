name: Benchmark

on:
  pull_request:
    branches: [ main ]   # change if your default branch differs
  workflow_dispatch:     # allows manual triggering

permissions:
  pull-requests: write    # needed to post comments

jobs:
  bench:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        julia-version: ["1"] # could also add 1.10 (LTS), but not needed
    steps:
      - uses: actions/checkout@v4 # don't need to specify because of the on: pull_request
      - name: Benchmark PR with AirspeedVelocity
        uses: MilesCranmer/AirspeedVelocity.jl@action-v1.1.0
        with:
          julia-version: ${{ matrix.julia-version }}
          job-summary: 'false'
